<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue组件</title>
    <!--<script src="https://vuejs.org/js/vue.js"></script>-->
    <script src="../libs/vue-2.5.16.js"></script>

    <style type="text/css">
        .demo-alert-box{
            padding-top: 5px;
            background-color: #eee7cf;
            width: 150px;
            text-align: center;
            color: #ee3b2a;
            border-radius: 2px;
            height: 30px;
        }
    </style>

</head>
<body>

<div id="blog">


    <!--这里v-on会监听enlarge-text事件，监听到事件后增大字体-->
    <div :style="{ fontSize: blogFontSize + 'em' }">
        <blog-detail
                v-for="blog in blogs"
                v-bind:key="blog.id"
                v-bind:blog="blog"
                v-on:enlarge-text="blogFontSize += $event"
        ></blog-detail>
    </div>
    <br>
    <!--这里元素的内容会插入的alert-box组件内部-->
    <alert-box>
        坏事发生了
    </alert-box>

</div>
<script>

    //$emit触发enlarge-text事件,增大字体
    Vue.component('blog-detail', {
        props: ['blog'],
        template: `
    <div style="background-color: cadetblue">
      <h1>{{ blog.title }}</h1>
      <div v-html="blog.content"></div>
      <button v-on:click="$emit('enlarge-text',0.1)">放大字体</button>

    </div>
  `
    })

    //插槽模式
    Vue.component('alert-box', {
        template: `
    <div class="demo-alert-box">
      <strong>Error!</strong>
      <slot></slot>
    </div>
  `
    })
    new Vue({
        el: '#blog',
        data: {
            blogs: [{id:1,title:'今天吃小龙虾',content:'<h2>吃小龙虾好开心吃小龙虾好开心吃小龙虾好开心吃小龙虾好开心</h2>'},],
            blogFontSize: 1
        }
    })
</script>
</body>
</html>